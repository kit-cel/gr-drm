# auto-generated by grc.converter

id: variable_drm_config
label: DRM Configuration
category: '[DRM]'
flags:
- show_id

parameters:
-   id: RM
    label: Robustness mode
    dtype: int
    default: '2'
    options: ['0', '1', '2', '3']
    option_labels: [A, B, C, D]
-   id: SO
    label: Spectrum Occupancy
    dtype: int
    default: '3'
    options: ['0', '1', '2', '3', '4', '5']
    option_labels: [4.5 kHz, 5 kHz, 9 kHz, 10 kHz, 18 kHz, 20 kHz]
-   id: audio_sample_rate
    label: Audio Sample Rate
    dtype: int
    default: '24000'
    options: ['24000', '12000']
    option_labels: [24 kHz, 12 kHz]
-   id: msc_mapping
    label: MSC Mapping
    dtype: int
    default: '1'
    options: ['1', '2']
    option_labels: [16-QAM, 64-QAM SM]
-   id: sdc_mapping
    label: SDC Mapping
    dtype: int
    default: '0'
    options: ['1', '0']
    option_labels: [4-QAM, 16-QAM]
-   id: msc_prot_level_2_16
    label: MSC Protection Level
    dtype: int
    default: '0'
    options: ['0', '1']
    option_labels: [0 (R=0.5), 1 (R=0.62)]
    hide: ${ ('none' if msc_mapping=='1' else 'all') }
-   id: msc_prot_level_2_64
    label: MSC Protection Level
    dtype: int
    default: '0'
    options: ['0', '1', '2', '3']
    option_labels: [0 (R=0.5), 1 (R=0.6), 2 (R=0.71), 3 (R=0.78)]
    hide: ${ ('none' if msc_mapping=='2' else 'all') }
-   id: long_interl
    label: Interleaving
    dtype: int
    default: 'True'
    options: ['True', 'False']
    option_labels: [Long, Short]
-   id: station_label
    label: Station Label
    dtype: string
    default: '"GNU Radio on DRM"'
-   id: text_message
    label: Text Message
    dtype: string
    default: '"This is GNU Radio on DRM!"'
value: ${ drm.transm_params(RM, SO, False, 0, msc_mapping, 0, msc_prot_level_2_16
    if msc_mapping==1 else msc_prot_level_2_64, sdc_mapping, 0, long_interl, audio_sample_rate,
    station_label, text_message) }

templates:
    imports: import drm
    var_make: self.${id} = ${id} = drm.transm_params(${RM}, ${SO}, False, 0, ${msc_mapping},
        0, ${msc_prot_level_2_16} if ${msc_mapping}==1 else ${msc_prot_level_2_64},
        ${sdc_mapping}, 0, ${long_interl}, ${audio_sample_rate}, ${station_label},
        ${text_message})

file_format: 1
